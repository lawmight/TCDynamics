---
description: React component patterns and conventions
globs: ["apps/frontend/src/components/**/*.tsx"]
---

# Component Patterns

## Interface Definitions
Define Props and State interfaces explicitly:

```tsx
interface Props {
  children: ReactNode
  fallback?: ReactNode
  onError?: (error: Error, errorInfo: ErrorInfo) => void
  onReset?: () => void
}

interface State {
  hasError: boolean
  error?: Error
}
```

## forwardRef Pattern
UI components must use forwardRef with displayName:

```tsx
const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn('rounded-lg border bg-card', className)}
    {...props}
  />
))
Card.displayName = 'Card'
```

## Class Merging
Always use `cn()` utility for conditional classes:

```tsx
import { cn } from '@/lib/utils'

<div className={cn(
  'base-classes',
  isActive && 'active-classes',
  className
)} />
```

## Context Pattern
Create context with custom hook for type safety:

```tsx
const ThemeContext = createContext<ThemeContextType | undefined>(undefined)

export const useTheme = () => {
  const context = useContext(ThemeContext)
  if (!context) {
    throw new Error('useTheme must be used within ThemeProvider')
  }
  return context
}
```

## Component Documentation
Include JSDoc with examples for reusable components:

```tsx
/**
 * ThemeProvider for managing light/dark/system modes
 *
 * @example
 * ```tsx
 * <ThemeProvider>
 *   <App />
 * </ThemeProvider>
 * ```
 */
```
